<!DOCTYPE html>
<!-- saved from url=(0050)http://localhost:8080/redeye/recommender/evaluator -->
<html lang="en" class="no-js"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>Finding an effective recommender by average difference</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="shortcut icon" href="http://localhost:8080/redeye/static/images/favicon.ico" type="image/x-icon">
		<link rel="apple-touch-icon" href="http://localhost:8080/redeye/static/images/apple-touch-icon.png">
		<link rel="apple-touch-icon" sizes="114x114" href="http://localhost:8080/redeye/static/images/apple-touch-icon-retina.png">
		<link rel="stylesheet" href="./compare0640_files/main.css" type="text/css">
		<link rel="stylesheet" href="./compare0640_files/mobile.css" type="text/css">
		

<meta name="layout" content="main">


  

<style type="text/css">
.mask{
   position: relative;
   overflow: hidden;
   margin: 0px auto;
   width: 100%;
}

.container{
   position: relative;
   width: 100%;
   right: 50%;
}
.col1{
   position: relative;
   overflow: hidden;
   float: left;
   width: 49%;
   left: 101%;
}
.col2{
   position: relative;
   overflow: hidden;
   float: left;
   width: 49%;
   left: 1%;
}

#slopeOneRecommender {
  width: 50%;
} 
</style>

		<script src="./compare0640_files/jquery-1.8.3.min.js" type="text/javascript"></script>

	</head>
	<body style="cursor: auto;">
		<div id="grailsLogo" role="banner"><a href="http://grails.org/"><img src="./compare0640_files/grails_logo.png" alt="Grails"></a></div>
		
<div class="nav">
  <span class="menuButton"><a class="home" href="http://redeye/">Home</a></span>
  <span class="menuButton"><span id="inProgessLabel" style="display: none;">Evaluation processing...</span><a id="evaluatorMenuButton" href="http://localhost:8080/redeye/recommender/evaluator#" style="display: block;">Run Evaluator</a></span>
</div>
<div class="body">
<h1>Finding An Effective Recommender By Average Difference</h1>


<p>Click on "Run Evaluator" above to start the recommenders' evaluation.
</p><p>Some values are "not a number", or undefined, and are denoted by Java's NaN symbol.</p>
<h2>User-based Recommenders</h2>
<h3>With Preference</h3>
<h4>Fixed-size neighborhood</h4>
<div class="list">Average absolute difference in estimated and
actual preferences when evaluating a user-based recommender using one of
several similarity metrics, and using a nearest-n user neighborhood.
<table id="fixedSizeNeighborhoodWithPref">
	<thead>
		<tr>
			<th width="30%">Similarity</th>
			<th>1</th>
			<th>2</th>
			<th>4</th>
			<th>8</th>
			<th>16</th>
			<th>32</th>
			<th>64</th>
			<th>128</th>
			<th>256</th>
			<th>512</th>
		</tr>
	</thead>
	<tbody>
		<tr class="odd">
			<td>PearsonCorrelation</td>
			<td>NaN</td>
			<td>0.6</td>
			<td>0.55</td>
			<td>0.65</td>
			<td>0.83</td>
			<td>0.88</td>
			<td>0.94</td>
			<td>0.93</td>
			<td>0.93</td>
			<td>0.93</td>
		</tr>
		<tr class="even">
			<td>PearsonCorrelation + weighting</td>
			<td>NaN</td>
			<td>0.6</td>
			<td>0.55</td>
			<td>0.65</td>
			<td>0.84</td>
			<td>0.91</td>
			<td>0.96</td>
			<td>0.96</td>
			<td>0.96</td>
			<td>0.96</td>
		</tr>
		<tr class="odd">
			<td>EuclideanDistance</td>
			<td>NaN</td>
			<td>1.5</td>
			<td>0.5</td>
			<td>0.38</td>
			<td>0.41</td>
			<td>0.39</td>
			<td>0.38</td>
			<td>0.36</td>
			<td>0.36</td>
			<td>0.38</td>
		</tr>
		<tr class="even">
			<td>EuclideanDistance + weighting</td>
			<td>NaN</td>
			<td>1.5</td>
			<td>0.5</td>
			<td>0.38</td>
			<td>0.41</td>
			<td>0.39</td>
			<td>0.38</td>
			<td>0.36</td>
			<td>0.36</td>
			<td>0.38</td>
		</tr>
		<tr class="odd">
			<td>LogLikelihood</td>
			<td>NaN</td>
			<td>0.61</td>
			<td>0.52</td>
			<td>0.5</td>
			<td>0.47</td>
			<td>0.48</td>
			<td>0.48</td>
			<td>0.47</td>
			<td>0.46</td>
			<td>0.47</td>
		</tr>
		<tr class="even">
			<td>TanimotoCoefficient</td>
			<td>NaN</td>
			<td>0.83</td>
			<td>0.43</td>
			<td>0.47</td>
			<td>0.44</td>
			<td>0.45</td>
			<td>0.47</td>
			<td>0.47</td>
			<td>0.46</td>
			<td>0.47</td>
		</tr>
	</tbody>
</table>
</div>
<h4 id="thresholdNeighborhoodWithPrefHeader">Threshold-based neighborhood</h4>
<div class="list">Average absolute difference in estimated and
actual preferences when evaluating a user-based recommender using one of
several similarity metrics, and using a threshold-based user
neighborhood. 
<table id="thresholdNeighborhoodWithPref">
	<thead>
		<tr>
			<th width="30%">Similarity</th>
			<th>0.95</th>
			<th>0.90</th>
			<th>0.85</th>
			<th>0.80</th>
			<th>0.75</th>
			<th>0.70</th>
			<th>0.65</th>
			<th>0.60</th>
			<th>0.55</th>
			<th>0.50</th>
		</tr>
	</thead>
	<tbody>
		<tr class="odd">
			<td>PearsonCorrelation</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.55</td>
		</tr>
		<tr class="even">
			<td>PearsonCorrelation + weighting</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.56</td>
			<td>0.56</td>
		</tr>
		<tr class="odd">
			<td>EuclideanDistance</td>
			<td>0.33</td>
			<td>0.33</td>
			<td>0.33</td>
			<td>0.34</td>
			<td>0.34</td>
			<td>0.34</td>
			<td>0.35</td>
			<td>0.35</td>
			<td>0.35</td>
			<td>0.4</td>
		</tr>
		<tr class="even">
			<td>EuclideanDistance + weighting</td>
			<td>0.33</td>
			<td>0.33</td>
			<td>0.33</td>
			<td>0.34</td>
			<td>0.34</td>
			<td>0.34</td>
			<td>0.35</td>
			<td>0.35</td>
			<td>0.35</td>
			<td>0.4</td>
		</tr>
		<tr class="odd">
			<td>LogLikelihood</td>
			<td>0.46</td>
			<td>0.47</td>
			<td>0.47</td>
			<td>0.46</td>
			<td>0.46</td>
			<td>0.46</td>
			<td>0.46</td>
			<td>0.46</td>
			<td>0.46</td>
			<td>0.46</td>
		</tr>
		<tr class="even">
			<td>TanimotoCoefficient</td>
			<td>NaN</td>
			<td>NaN</td>
			<td>0.75</td>
			<td>0.97</td>
			<td>0.48</td>
			<td>0.52</td>
			<td>0.49</td>
			<td>0.47</td>
			<td>0.47</td>
			<td>0.47</td>
		</tr>
	</tbody>
</table>
</div>
<h3>Without Preference (Boolean Preference)</h3>
<h4>Fixed-size neighborhood</h4>
<div class="list">
<table id="fixedSizeNeighborhoodWithoutPref">
	<thead>
		<tr>
			<th width="30%">Similarity</th>
			<th>1</th>
			<th>2</th>
			<th>4</th>
			<th>8</th>
			<th>16</th>
			<th>32</th>
			<th>64</th>
			<th>128</th>
			<th>256</th>
			<th>512</th>
		</tr>
	</thead>
	<tbody>
		<tr class="odd">
			<td>LogLikelihood</td>
			<td>3.66</td>
			<td>3.53</td>
			<td>3.14</td>
			<td>2.5</td>
			<td>2.31</td>
			<td>3.72</td>
			<td>9.09</td>
			<td>15.19</td>
			<td>20.98</td>
			<td>28.47</td>
		</tr>
		<tr class="even">
			<td>TanimotoCoefficient</td>
			<td>3.91</td>
			<td>3.83</td>
			<td>3.8</td>
			<td>3.53</td>
			<td>3.09</td>
			<td>2.58</td>
			<td>3.13</td>
			<td>4.9</td>
			<td>6.7</td>
			<td>9.41</td>
		</tr>
	</tbody>
</table>
</div>
<h4 id="thresholdNeighborhoodWithoutPrefHeader">Threshold-based neighborhood</h4>
<div class="list">
<table id="thresholdNeighborhoodWithoutPref">
	<thead>
		<tr>
			<th width="30%">Similarity</th>
			<th>0.95</th>
			<th>0.90</th>
			<th>0.85</th>
			<th>0.80</th>
			<th>0.75</th>
			<th>0.70</th>
			<th>0.65</th>
			<th>0.60</th>
			<th>0.55</th>
			<th>0.50</th>
		</tr>
	</thead>
	<tbody>
		<tr class="odd">
			<td>LogLikelihood</td>
			<td>5.06</td>
			<td>22.01</td>
			<td>44.83</td>
			<td>65.76</td>
			<td>73.64</td>
			<td>75.09</td>
			<td>75.59</td>
			<td>75.65</td>
			<td>75.68</td>
			<td>75.69</td>
		</tr>
		<tr class="even">
			<td>TanimotoCoefficient</td>
			<td>NaN</td>
			<td>NaN</td>
			<td>2.36</td>
			<td>3.28</td>
			<td>3.08</td>
			<td>3.03</td>
			<td>3.14</td>
			<td>3.11</td>
			<td>3.08</td>
			<td>6.6</td>
		</tr>
	</tbody>
</table>
</div>

<div class="mask">
<h2>Item-based Recommenders</h2> 
<div class="container">
  <div class="col1">
  <h3>Without Preference</h3>
			<div class="list">
			<table id="itemWithoutPref">
				<thead>
					<tr>
						<th width="70%">Similarity</th>
						<th>Score</th>
					</tr>
				</thead>
				<tbody>
					<tr class="odd">
						<td>LogLikelihood</td>
						<td>2.96</td>
					</tr>
					<tr class="even">
						<td>TanimotoCoefficient</td>
						<td>4.56</td>
					</tr>
				</tbody>
			</table>
			</div>  
	</div>
	<div class="col2">
  <h3>With Preference</h3>
			<div class="list">
			<table id="itemWithPref">
				<thead>
					<tr>
						<th width="70%">Similarity</th>
						<th>Score</th>
					</tr>
				</thead>
				<tbody>
					<tr class="odd">
						<td>PearsonCorrelation</td>
						<td>0.26</td>
					</tr>
					<tr class="even">
						<td>PearsonCorrelation + weighting</td>
						<td>0.26</td>
					</tr>
					<tr class="odd">
						<td>EuclideanDistance</td>
						<td>0.25</td>
					</tr>
					<tr class="even">
						<td>EuclideanDistance + weighting</td>
						<td>0.25</td>
					</tr>
					<tr class="odd">
						<td>LogLikelihood</td>
						<td>0.25</td>
					</tr>
					<tr class="even">
						<td>TanimotoCoefficient</td>
						<td>0.24</td>
					</tr>
				</tbody>
			</table>
			</div>  
	</div> 
</div>
</div>

<h2>Slope-One Recommender</h2>
	<div class="list">
	<table id="slopeOneRecommender">
		<thead>
			<tr>
				<th width="70%">Weighting</th>
				<th>Score</th>
			</tr>
		</thead>
		<tbody>
			<tr class="odd">
				<td>With weighting</td>
				<td id="weight">0.34</td>
			</tr>
			<tr class="even">
				<td>Without weighting</td>
				<td id="unweight">0.34</td>
			</tr>
		</tbody>
	</table>
	</div>  
</div>

<script type="text/javascript">
	$(function() {
		$('#evaluatorMenuButton').click(runEvaluator);
	});
	function runEvaluator(event) {
		toggleMenuButton();
		evaluateUserBasedRecommender('fixedSizeNeighborhoodWithPref', true);
		scrollToElement('thresholdNeighborhoodWithPrefHeader');
		evaluateUserBasedRecommender('thresholdNeighborhoodWithPref', true);
		evaluateUserBasedRecommender('fixedSizeNeighborhoodWithoutPref', false);
		scrollToElement('thresholdNeighborhoodWithoutPrefHeader');
		evaluateUserBasedRecommender('thresholdNeighborhoodWithoutPref', false);
		evaluateItemBasedRecommender('itemWithPref', true);		
		evaluateItemBasedRecommender('itemWithoutPref', false);	
		scrollToElement('slopeOneRecommender');
		evaluateSlopeOneRecommender('#weight', true);	
		evaluateSlopeOneRecommender('#unweight', false);
		toggleMenuButton();	
		return false;
	}

	function evaluateUserBasedRecommender(tableId, hasPreference) {
		var $table = $('#' + tableId);
		var $rowHeaders = $('tr th', $table);
		var $rowDatas = $('tr td', $table);
		var j = 0;
		var similarity;
		var weightingIndex;
		var withWeighting;
		var data = new Object();
		var $td;
		
		for (var i = 0; i < $rowDatas.length; i++) {
			j = i % 11;
			$td = $($rowDatas[i]);
			if (j == 0) {
				similarity = $td.text();
				weightingIndex = similarity.indexOf('+');
				withWeighting = weightingIndex > -1;
				if (withWeighting) {
					similarity = similarity.substring(0, weightingIndex - 1);
				} 
			} else {
				data['recommenderSelected'] = 1;
				data['hasPreference'] = hasPreference;
				data['similarity'] = similarity;
				data['withWeighting'] = withWeighting;
				data['neighborhood'] = $($rowHeaders[j]).text();  
				
				$.ajax({
					url : 'evaluateAverageDiff',
					dataType: "text",
					data: data,
					async: false,
					success : function(response) {
						$td.text(response);
					},
					error : function() {
						$td.html('<span style="color:red">Err</span>');
					}
				}); 
			}
		}				
	}

	function evaluateItemBasedRecommender(tableId, hasPreference) {
		var $table = $('#' + tableId);
		var $rowDatas = $('tr td', $table);
		var j = 0;
		var similarity;
		var weightingIndex;
		var withWeighting;
		var data = new Object();
		var $td;
		
		for (var i = 0; i < $rowDatas.length; i++) {
			j = i % 2;
			$td = $($rowDatas[i]);
			if (j == 0) {
				similarity = $td.text();
				weightingIndex = similarity.indexOf('+');
				withWeighting = weightingIndex > -1;
				if (withWeighting) {
					similarity = similarity.substring(0, weightingIndex - 1);
				} 
			} else {
				data['recommenderSelected'] = 2;
				data['hasPreference'] = hasPreference;
				data['similarity'] = similarity;
				data['withWeighting'] = withWeighting;  
				
				$.ajax({
					url : 'evaluateAverageDiff',
					dataType: "text",
					data: data,
					async: false,
					success : function(response) {
						$td.text(response);
					},
					error : function() {
						$td.html('<span style="color:red">Err</span>');
					}
				}); 
			}
		}				
	}

	function evaluateSlopeOneRecommender(selector, withWeighting) {
		var data = new Object();
		var $td = $(selector);
		data['withWeighting'] = withWeighting;  
		data['recommenderSelected'] = 3;
		
		$.ajax({
			url : 'evaluateAverageDiff',
			dataType: "text",
			data: data,
			async: false,
			success : function(response) {
				$td.text(response);
			},
			error : function() {
				$td.html('<span style="color:red">Err</span>');
			}
		}); 	
	}	
	
function scrollToElement(id) {
	  var new_position = $('#' + id).offset();
	  window.scrollTo(new_position.left,new_position.top);
}	

function toggleMenuButton() {
	var $evaluatorMenuButton = $('#evaluatorMenuButton');
	if ($evaluatorMenuButton.is(":visible")) {
		$evaluatorMenuButton.hide();
		$('#spinner').show();
		$('#inProgessLabel').show();		
		$('body').css("cursor", "progress");
	} else {
		$('#spinner').hide();
		$('body').css("cursor", "auto");
		$('#inProgessLabel').hide();		
		$evaluatorMenuButton.show();
	}
}
</script>

		<div class="footer" role="contentinfo"></div>
		<div id="spinner" class="spinner" style="display: block; opacity: 0.18128800512565513;">Loading…</div>
		
		<script src="./compare0640_files/application.js" type="text/javascript"></script>

	

</body></html>